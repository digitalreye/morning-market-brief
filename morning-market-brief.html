<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Morning Market Brief | Magnificent 7</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { font-family: 'Inter', sans-serif; background: #0a0e1a; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .gradient-text { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .bullish { color: #10b981; }
        .bearish { color: #ef4444; }
        .cautious { color: #f59e0b; }
        .pulse-green { animation: pulse-green 2s infinite; }
        @keyframes pulse-green { 0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4); } 50% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); } }
        .news-card { transition: all 0.3s ease; }
        .news-card:hover { transform: translateY(-2px); box-shadow: 0 10px 40px -10px rgba(0,0,0,0.5); }
        .ticker-wrap { overflow: hidden; white-space: nowrap; }
        .ticker { display: inline-block; animation: ticker 30s linear infinite; }
        @keyframes ticker { 0% { transform: translate3d(0, 0, 0); } 100% { transform: translate3d(-50%, 0, 0); } }
        .price-up { animation: priceUp 0.5s ease; }
        .price-down { animation: priceDown 0.5s ease; }
        @keyframes priceUp { 0% { color: #10b981; } 100% { color: inherit; } }
        @keyframes priceDown { 0% { color: #ef4444; } 100% { color: inherit; } }
    </style>
</head>
<body class="text-gray-100 min-h-screen">

    <!-- Header -->
    <header class="border-b border-gray-800 bg-gray-900/50 backdrop-blur-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <i data-lucide="trending-up" class="w-8 h-8 text-indigo-400"></i>
                <div>
                    <h1 class="text-xl font-bold tracking-tight">Morning Market Brief</h1>
                    <p class="text-xs text-gray-400 mono">MAG 7 ANALYST v2.1 | MODO DEMO</p>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <div class="text-right">
                    <div id="clock" class="text-2xl font-bold mono text-indigo-400">09:00:00</div>
                    <div class="text-xs text-gray-500">ET (Pre-Market)</div>
                </div>
                <button onclick="simulateMarketUpdate()" class="p-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 transition-colors pulse-green" title="Simular actualizaci√≥n de mercado">
                    <i data-lucide="refresh-cw" class="w-5 h-5"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Market Ticker -->
    <div class="bg-gray-900 border-b border-gray-800 py-2 ticker-wrap">
        <div class="ticker mono text-sm" id="ticker-content">
            <span class="mx-4">AAPL <span class="bullish">+1.2%</span></span>
            <span class="mx-4">MSFT <span class="bullish">+0.8%</span></span>
            <span class="mx-4">GOOGL <span class="bearish">-0.5%</span></span>
            <span class="mx-4">AMZN <span class="bullish">+1.5%</span></span>
            <span class="mx-4">NVDA <span class="bullish">+2.1%</span></span>
            <span class="mx-4">META <span class="cautious">+0.2%</span></span>
            <span class="mx-4">TSLA <span class="bearish">-1.2%</span></span>
            <span class="mx-4 text-gray-500">|</span>
            <span class="mx-4">SPY <span class="bullish">+0.6%</span></span>
            <span class="mx-4">QQQ <span class="bullish">+0.9%</span></span>
            <span class="mx-4">VIX <span class="bearish">-2.3%</span></span>
            <span class="mx-4 text-gray-500">|</span>
            <span class="mx-4">AAPL <span class="bullish">+1.2%</span></span>
            <span class="mx-4">MSFT <span class="bullish">+0.8%</span></span>
            <span class="mx-4">GOOGL <span class="bearish">-0.5%</span></span>
            <span class="mx-4">AMZN <span class="bullish">+1.5%</span></span>
            <span class="mx-4">NVDA <span class="bullish">+2.1%</span></span>
            <span class="mx-4">META <span class="cautious">+0.2%</span></span>
            <span class="mx-4">TSLA <span class="bearish">-1.2%</span></span>
        </div>
    </div>

    <main class="max-w-7xl mx-auto px-4 py-6 space-y-6">

        <!-- Alerta de modo demo -->
        <div class="bg-blue-900/30 border border-blue-500/30 rounded-lg p-3 flex items-center gap-3">
            <i data-lucide="info" class="w-5 h-5 text-blue-400"></i>
            <div class="flex-1">
                <p class="text-sm text-blue-200"><strong>Modo Demo:</strong> Usando datos simulados. Para datos reales, sube la app a GitHub Pages o usa una API key.</p>
            </div>
            <button onclick="toggleRealMode()" class="text-xs bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded transition-colors">
                Intentar datos reales
            </button>
        </div>

        <!-- Sentimiento General -->
        <section class="glass rounded-2xl p-6 relative overflow-hidden">
            <div class="absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl -mr-32 -mt-32"></div>
            <div class="relative z-10 flex justify-between items-center">
                <div>
                    <h2 class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-2">Sentimiento del Mercado</h2>
                    <div class="flex items-center gap-3">
                        <div id="sentiment-badge" class="px-4 py-2 rounded-full bg-green-500/20 border border-green-500/50 text-green-400 font-bold text-lg">
                            BULLISH
                        </div>
                        <p id="sentiment-reason" class="text-gray-300 max-w-2xl">Tecnolog√≠a liderando con NVDA +2.1%. Sin catalizadores negativos en el calendario.</p>
                    </div>
                </div>
                <div class="text-right">
                    <div class="text-3xl font-bold mono gradient-text" id="market-score">7/10</div>
                    <div class="text-xs text-gray-500">Market Health Score</div>
                </div>
            </div>
        </section>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            
            <!-- Magnificent 7 Dashboard -->
            <section class="lg:col-span-2 space-y-4">
                <div class="flex justify-between items-center">
                    <h2 class="text-lg font-semibold flex items-center gap-2">
                        <i data-lucide="crown" class="w-5 h-5 text-yellow-500"></i>
                        Las 7 Magn√≠ficas
                    </h2>
                    <span class="text-xs text-gray-500 mono" id="last-update">Actualizado: ahora</span>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="mag7-grid">
                    <!-- Se llena con JavaScript -->
                </div>
            </section>

            <!-- Calendario Econ√≥mico -->
            <section class="space-y-4">
                <h2 class="text-lg font-semibold flex items-center gap-2">
                    <i data-lucide="calendar" class="w-5 h-5 text-red-400"></i>
                    Catalizadores Hoy
                </h2>
                
                <div class="glass rounded-xl p-4 space-y-3">
                    <div class="flex items-center justify-between p-3 bg-gray-800/50 rounded-lg border-l-4 border-yellow-500">
                        <div>
                            <div class="font-semibold text-sm">8:30 AM ET</div>
                            <div class="text-xs text-gray-400">Initial Jobless Claims</div>
                            <div class="text-xs mt-1"><span class="text-gray-500">Actual:</span> <span class="bullish">215K</span> | <span class="text-gray-500">Forecast:</span> 220K</div>
                        </div>
                        <span class="text-xs bg-yellow-500/20 text-yellow-400 px-2 py-1 rounded">MEDIUM</span>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 bg-gray-800/50 rounded-lg border-l-4 border-red-500">
                        <div>
                            <div class="font-semibold text-sm">10:00 AM ET</div>
                            <div class="text-xs text-gray-400">ISM Manufacturing PMI</div>
                        </div>
                        <span class="text-xs bg-red-500/20 text-red-400 px-2 py-1 rounded">HIGH</span>
                    </div>

                    <div class="flex items-center justify-between p-3 bg-gray-800/50 rounded-lg border-l-4 border-gray-500">
                        <div>
                            <div class="font-semibold text-sm">10:30 AM ET</div>
                            <div class="text-xs text-gray-400">Natural Gas Inventories</div>
                        </div>
                        <span class="text-xs bg-gray-500/20 text-gray-400 px-2 py-1 rounded">LOW</span>
                    </div>

                    <div class="flex items-center justify-between p-3 bg-gray-800/50 rounded-lg border-l-4 border-red-500">
                        <div>
                            <div class="font-semibold text-sm">2:00 PM ET</div>
                            <div class="text-xs text-gray-400">Fed Chair Powell Speech</div>
                        </div>
                        <span class="text-xs bg-red-500/20 text-red-400 px-2 py-1 rounded">HIGH</span>
                    </div>

                    <div class="mt-4 p-3 bg-indigo-900/30 rounded-lg border border-indigo-500/30">
                        <div class="flex items-center gap-2 mb-2">
                            <i data-lucide="alert-circle" class="w-4 h-4 text-indigo-400"></i>
                            <span class="text-sm font-semibold text-indigo-300">Alerta del Analista</span>
                        </div>
                        <p class="text-xs text-gray-400">Powell habla a las 2PM ET. Evitar posiciones nuevas 30min antes. Alta volatilidad esperada.</p>
                    </div>
                </div>

                <!-- Checklist Pre-Mercado -->
                <div class="glass rounded-xl p-4 mt-4">
                    <h3 class="text-sm font-semibold mb-3 flex items-center gap-2">
                        <i data-lucide="check-square" class="w-4 h-4 text-green-400"></i>
                        Checklist 9:00 AM
                    </h3>
                    <div class="space-y-2" id="checklist">
                        <label class="flex items-center gap-3 p-2 hover:bg-gray-800/50 rounded cursor-pointer transition-colors">
                            <input type="checkbox" class="w-4 h-4 rounded border-gray-600 text-indigo-600 focus:ring-indigo-500 bg-gray-700" onchange="saveChecklist()">
                            <span class="text-sm">Revisar futuros S&P/Nasdaq</span>
                        </label>
                        <label class="flex items-center gap-3 p-2 hover:bg-gray-800/50 rounded cursor-pointer transition-colors">
                            <input type="checkbox" class="w-4 h-4 rounded border-gray-600 text-indigo-600 focus:ring-indigo-500 bg-gray-700" onchange="saveChecklist()">
                            <span class="text-sm">Chequear noticias MAG 7</span>
                        </label>
                        <label class="flex items-center gap-3 p-2 hover:bg-gray-800/50 rounded cursor-pointer transition-colors">
                            <input type="checkbox" class="w-4 h-4 rounded border-gray-600 text-indigo-600 focus:ring-indigo-500 bg-gray-700" onchange="saveChecklist()">
                            <span class="text-sm">Verificar calendario econ√≥mico</span>
                        </label>
                        <label class="flex items-center gap-3 p-2 hover:bg-gray-800/50 rounded cursor-pointer transition-colors">
                            <input type="checkbox" class="w-4 h-4 rounded border-gray-600 text-indigo-600 focus:ring-indigo-500 bg-gray-700" onchange="saveChecklist()">
                            <span class="text-sm">Analizar niveles de soporte/resistencia</span>
                        </label>
                    </div>
                    <button onclick="resetChecklist()" class="mt-3 text-xs text-gray-500 hover:text-gray-300 underline">Reiniciar checklist</button>
                </div>
            </section>
        </div>

        <!-- Noticias Espec√≠ficas -->
        <section class="glass rounded-2xl p-6">
            <h2 class="text-lg font-semibold mb-4 flex items-center gap-2">
                <i data-lucide="newspaper" class="w-5 h-5 text-blue-400"></i>
                Noticias Espec√≠ficas MAG 7
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="news-grid">
                <!-- Se llena con JavaScript -->
            </div>
        </section>

        <!-- Panel de Trading -->
        <section class="glass rounded-2xl p-6 border border-indigo-500/30">
            <div class="flex justify-between items-start mb-4">
                <div>
                    <h2 class="text-lg font-semibold flex items-center gap-2">
                        <i data-lucide="target" class="w-5 h-5 text-indigo-400"></i>
                        Oportunidades de Trading (Tu Estrategia)
                    </h2>
                    <p class="text-xs text-gray-400 mt-1">Empresas en zona de soporte 200/100 MA + Bollinger inferior</p>
                </div>
                <button onclick="scanOpportunities()" class="px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-lg text-sm font-medium transition-colors flex items-center gap-2">
                    <i data-lucide="scan" class="w-4 h-4"></i>
                    Escanear Ahora
                </button>
            </div>
            
            <div id="opportunities-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="col-span-4 text-center py-8 text-gray-500 text-sm">
                    Haz clic en "Escanear Ahora" para buscar oportunidades basadas en tu estrategia
                </div>
            </div>
        </section>

    </main>

    <script>
        // Datos de demostraci√≥n realistas (se actualizan manualmente o por API)
        let mag7Data = [
            { ticker: 'AAPL', name: 'Apple Inc.', price: 185.92, change: 1.2, premarket: 0.8, volume: 52800000, high: 187.45, low: 184.20, news: 'Upgrade: Goldman Sachs', signal: 'bullish' },
            { ticker: 'MSFT', name: 'Microsoft Corp.', price: 378.91, change: 0.8, premarket: 0.5, volume: 22100000, high: 381.20, low: 376.80, news: 'AI Product Launch', signal: 'bullish' },
            { ticker: 'GOOGL', name: 'Alphabet Inc.', price: 141.80, change: -0.5, premarket: -0.3, volume: 18900000, high: 143.10, low: 140.90, news: 'Antitrust Hearing', signal: 'bearish' },
            { ticker: 'AMZN', name: 'Amazon.com Inc.', price: 178.35, change: 1.5, premarket: 1.2, volume: 34200000, high: 180.10, low: 177.20, news: 'AWS Contract Win', signal: 'bullish' },
            { ticker: 'NVDA', name: 'NVIDIA Corp.', price: 875.28, change: 2.1, premarket: 2.5, volume: 45100000, high: 882.50, low: 868.20, news: 'New AI Chip Release', signal: 'strong_bullish' },
            { ticker: 'META', name: 'Meta Platforms', price: 505.68, change: 0.2, premarket: 0.1, volume: 15600000, high: 508.40, low: 502.10, news: 'VR Sales Data', signal: 'neutral' },
            { ticker: 'TSLA', name: 'Tesla Inc.', price: 175.43, change: -1.2, premarket: -0.9, volume: 98200000, high: 178.90, low: 173.50, news: 'Price Cut Rumors', signal: 'bearish' }
        ];

        const newsData = [
            { ticker: 'NVDA', type: 'upgrade', title: 'Morgan Stanley eleva PT a $1,000', time: '08:30 AM', source: 'Bloomberg', sentiment: 'positive' },
            { ticker: 'AAPL', type: 'product', title: 'Nuevo iPad Pro anunciado para marzo', time: '08:15 AM', source: 'Reuters', sentiment: 'positive' },
            { ticker: 'TSLA', type: 'downgrade', title: 'UBS reduce rating a Neutral', time: '07:45 AM', source: 'CNBC', sentiment: 'negative' },
            { ticker: 'GOOGL', type: 'legal', title: 'Juicio antitrust contin√∫a hoy', time: '09:00 AM', source: 'WSJ', sentiment: 'negative' },
            { ticker: 'AMZN', type: 'earnings', title: 'AWS supera estimaciones Q4', time: '08:00 AM', source: 'Financial Times', sentiment: 'positive' },
            { ticker: 'MSFT', type: 'ai', title: 'Copilot Enterprise llega a 10M usuarios', time: '08:45 AM', source: 'TechCrunch', sentiment: 'positive' }
        ];

        // Inicializar
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            updateClock();
            renderMag7();
            renderNews();
            loadChecklist();
            setInterval(updateClock, 1000);
            
            // Auto-actualizaci√≥n cada 5 minutos (simulada)
            setInterval(() => {
                simulateMarketUpdate();
            }, 300000);
        });

        function updateClock() {
            const now = new Date();
            const etTime = new Date(now.toLocaleString("en-US", {timeZone: "America/New_York"}));
            const timeString = etTime.toLocaleTimeString('en-US', { hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit' });
            document.getElementById('clock').textContent = timeString;
        }

        function renderMag7() {
            const grid = document.getElementById('mag7-grid');
            grid.innerHTML = mag7Data.map(stock => {
                const changeColor = stock.change >= 0 ? 'bullish' : 'bearish';
                const signalIcon = stock.signal === 'bullish' || stock.signal === 'strong_bullish' ? 'trending-up' : 
                                  stock.signal === 'bearish' ? 'trending-down' : 'minus';
                const signalColor = stock.signal === 'bullish' || stock.signal === 'strong_bullish' ? 'text-green-400' : 
                                   stock.signal === 'bearish' ? 'text-red-400' : 'text-gray-400';
                const premarketColor = stock.premarket >= 0 ? 'bullish' : 'bearish';
                
                return `
                    <div class="glass rounded-xl p-4 news-card cursor-pointer" onclick="showDetail('${stock.ticker}')">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <div class="font-bold text-lg mono">${stock.ticker}</div>
                                <div class="text-xs text-gray-400">${stock.name}</div>
                            </div>
                            <i data-lucide="${signalIcon}" class="w-5 h-5 ${signalColor}"></i>
                        </div>
                        <div class="flex justify-between items-end">
                            <div>
                                <div class="text-2xl font-bold mono">$${stock.price.toFixed(2)}</div>
                                <div class="flex items-center gap-2 mt-1">
                                    <span class="text-sm ${changeColor}">${stock.change > 0 ? '+' : ''}${stock.change}%</span>
                                    <span class="text-xs ${premarketColor}">Pre: ${stock.premarket > 0 ? '+' : ''}${stock.premarket}%</span>
                                </div>
                            </div>
                            <div class="text-right text-xs text-gray-400">
                                <div class="mb-1">Vol: ${formatVolume(stock.volume)}</div>
                                <div class="text-indigo-400">Ver an√°lisis ‚Üí</div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            lucide.createIcons();
            updateSentiment();
        }

        function renderNews() {
            const grid = document.getElementById('news-grid');
            grid.innerHTML = newsData.map(news => {
                const colors = {
                    upgrade: 'border-green-500 bg-green-500/10',
                    downgrade: 'border-red-500 bg-red-500/10',
                    product: 'border-blue-500 bg-blue-500/10',
                    legal: 'border-yellow-500 bg-yellow-500/10',
                    earnings: 'border-purple-500 bg-purple-500/10',
                    ai: 'border-indigo-500 bg-indigo-500/10'
                };
                
                const sentimentIcon = news.sentiment === 'positive' ? 'trending-up' : news.sentiment === 'negative' ? 'trending-down' : 'minus';
                const sentimentColor = news.sentiment === 'positive' ? 'text-green-400' : news.sentiment === 'negative' ? 'text-red-400' : 'text-gray-400';
                
                return `
                    <div class="p-4 rounded-lg border-l-4 ${colors[news.type] || 'border-gray-500'} bg-gray-800/30 hover:bg-gray-800/50 transition-colors cursor-pointer">
                        <div class="flex justify-between items-start mb-2">
                            <div class="flex items-center gap-2">
                                <span class="text-xs font-bold mono text-gray-400 bg-gray-700 px-2 py-1 rounded">${news.ticker}</span>
                                <i data-lucide="${sentimentIcon}" class="w-3 h-3 ${sentimentColor}"></i>
                            </div>
                            <span class="text-xs text-gray-500">${news.time}</span>
                        </div>
                        <h3 class="text-sm font-medium mb-2 leading-tight">${news.title}</h3>
                        <div class="text-xs text-gray-500">${news.source}</div>
                    </div>
                `;
            }).join('');
            lucide.createIcons();
        }

        function updateSentiment() {
            const avgChange = mag7Data.reduce((sum, s) => sum + s.change, 0) / mag7Data.length;
            const bullishCount = mag7Data.filter(s => s.change > 0).length;
            
            let sentiment, colorClass, reason, score;
            
            if (bullishCount >= 5 && avgChange > 1) {
                sentiment = 'BULLISH';
                colorClass = 'bg-green-500/20 border-green-500/50 text-green-400';
                reason = 'Mayor√≠a de MAG7 en verde con momentum positivo';
                score = 7;
            } else if (bullishCount <= 2 && avgChange < -1) {
                sentiment = 'BEARISH';
                colorClass = 'bg-red-500/20 border-red-500/50 text-red-400';
                reason = 'Presi√≥n vendedora generalizada en tecnol√≥gicas';
                score = 3;
            } else {
                sentiment = 'CAUTELOSO';
                colorClass = 'bg-yellow-500/20 border-yellow-500/50 text-yellow-400';
                reason = 'Mercado mixto sin direcci√≥n clara';
                score = 5;
            }
            
            document.getElementById('sentiment-badge').className = `px-4 py-2 rounded-full border font-bold text-lg ${colorClass}`;
            document.getElementById('sentiment-badge').textContent = sentiment;
            document.getElementById('sentiment-reason').textContent = reason;
            document.getElementById('market-score').textContent = `${score}/10`;
        }

        function simulateMarketUpdate() {
            // Simular peque√±os cambios en los precios
            mag7Data.forEach(stock => {
                const change = (Math.random() - 0.5) * 0.5; // Cambio aleatorio ¬±0.25%
                stock.price = stock.price * (1 + change/100);
                stock.change = stock.change + (Math.random() - 0.5) * 0.2;
                stock.premarket = stock.premarket + (Math.random() - 0.5) * 0.1;
            });
            
            renderMag7();
            document.getElementById('last-update').textContent = 'Actualizado: ' + new Date().toLocaleTimeString();
        }

        function scanOpportunities() {
            const list = document.getElementById('opportunities-list');
            list.innerHTML = '<div class="col-span-4 text-center py-4"><i data-lucide="loader" class="w-6 h-6 animate-spin mx-auto"></i><p class="text-sm text-gray-500 mt-2">Analizando soportes y Bollinger...</p></div>';
            lucide.createIcons();
            
            setTimeout(() => {
                // Buscar oportunidades basadas en tu estrategia
                const opportunities = mag7Data
                    .filter(s => s.change < 0 && s.change > -2) // Bajadas moderadas
                    .map(s => ({
                        ticker: s.ticker,
                        price: s.price.toFixed(2),
                        setup: 'Cerca Soporte 200 MA',
                        bb: 'Bollinger inferior tocada',
                        rsi: (35 + Math.random() * 10).toFixed(1),
                        target: (s.price * 1.25).toFixed(2)
                    }));
                
                if (opportunities.length === 0) {
                    list.innerHTML = `
                        <div class="col-span-4 text-center py-8 text-gray-500">
                            <i data-lucide="search-x" class="w-8 h-8 mx-auto mb-2 opacity-50"></i>
                            <p>No se encontraron setups √≥ptimos</p>
                            <p class="text-xs mt-2">Esperar apertura de mercado</p>
                        </div>
                    `;
                } else {
                    list.innerHTML = opportunities.map(opp => `
                        <div class="bg-gray-800/50 rounded-lg p-4 border border-gray-700 hover:border-indigo-500/50 transition-all">
                            <div class="flex justify-between items-center mb-2">
                                <span class="font-bold mono text-lg text-indigo-400">${opp.ticker}</span>
                                <span class="text-xs bg-indigo-500/20 text-indigo-400 px-2 py-1 rounded">WATCH</span>
                            </div>
                            <div class="space-y-2 text-xs text-gray-400">
                                <div class="flex items-center gap-2"><i data-lucide="activity" class="w-3 h-3 text-blue-400"></i>${opp.setup}</div>
                                <div class="flex items-center gap-2"><i data-lucide="target" class="w-3 h-3 text-purple-400"></i>${opp.bb}</div>
                                <div class="flex items-center gap-2"><i data-lucide="gauge" class="w-3 h-3 text-yellow-400"></i>RSI: ${opp.rsi}</div>
                            </div>
                            <div class="mt-3 pt-2 border-t border-gray-700">
                                <div class="flex justify-between text-xs mb-1"><span class="text-gray-500">Entrada:</span><span class="font-mono font-bold">$${opp.price}</span></div>
                                <div class="flex justify-between text-xs"><span class="text-gray-500">Target 25%:</span><span class="font-mono font-bold text-green-400">$${opp.target}</span></div>
                            </div>
                        </div>
                    `).join('');
                }
                lucide.createIcons();
            }, 1000);
        }

        function showDetail(ticker) {
            const stock = mag7Data.find(s => s.ticker === ticker);
            if (!stock) return;
            
            alert(`üìä AN√ÅLISIS T√âCNICO: ${ticker}\n\n` +
                  `Precio: $${stock.price.toFixed(2)}\n` +
                  `Cambio: ${stock.change}%\n` +
                  `Volumen: ${formatVolume(stock.volume)}\n\n` +
                  `Soporte 200 MA: $${(stock.price * 0.95).toFixed(2)}\n` +
                  `Resistencia: $${(stock.price * 1.05).toFixed(2)}\n\n` +
                  `Recomendaci√≥n: Verificar en TC2000`);
        }

        function formatVolume(num) {
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
            return num.toString();
        }

        function saveChecklist() {
            const checkboxes = document.querySelectorAll('#checklist input[type="checkbox"]');
            const state = Array.from(checkboxes).map(cb => cb.checked);
            localStorage.setItem('morningChecklist', JSON.stringify(state));
        }

        function loadChecklist() {
            const saved = localStorage.getItem('morningChecklist');
            if (saved) {
                const state = JSON.parse(saved);
                const checkboxes = document.querySelectorAll('#checklist input[type="checkbox"]');
                checkboxes.forEach((cb, index) => {
                    if (state[index] !== undefined) cb.checked = state[index];
                });
            }
        }

        function resetChecklist() {
            const checkboxes = document.querySelectorAll('#checklist input[type="checkbox"]');
            checkboxes.forEach(cb => cb.checked = false);
            saveChecklist();
        }

        async function toggleRealMode() {
            alert('Para datos reales:\n\n1. Sube esta app a GitHub Pages\n2. O usa una API key de Alpha Vantage/Yahoo Finance\n3. Contactame para integraci√≥n completa');
        }
    </script>
</body>
</html>